{% extends "layout.html" %} {% load static %} 
{% block title %} Reset Password - Timber {% endblock %}
{% block content %}
<div class="min-h-screen flex justify-center items-center">
  <div class="font bg-white p-8 rounded-lg shadow-lg w-full max-w-md">
    {% if messages %}
    <div class="alert alert-container text-center font-bold shake fixed top-4 right-4 z-50">
      {% for message in messages %} {% if message.tags == 'success' %}
      <div class="alert-success p-3 m-3 bg-green-300 text-green-900 rounded-lg shadow-lg">
        {{ message }}
      </div>
      {% elif message.tags == 'error' %}
      <div class="alert-error p-3 m-3 bg-red-300 text-red-900 rounded-lg shadow-lg">
        {{ message }}
      </div>
      {% endif %} {% endfor %}
    </div>
    {% endif %}
    <div class="flex">
      <div
        class="cursor-pointer hover:border-[2px] w-[39.2px] h-[39.2px] hover:border-blue-400 hover:rounded-lg p-[2px] trans"
        id="reset-home"
      >
        <img
          src="https://cdn-icons-png.flaticon.com/512/25/25694.png"
          width="28"
          height="28"
        />
      </div>
      <div class="w-[150px] ml-[78px]" id="timber-icon">
        <img src="{% static '\timber.png' %}" />
      </div>
    </div>
    <script>
      document
        .getElementById("reset-home")
        .addEventListener("click", function () {
          // Redirect to the logout URL
          window.location.href = "{% url 'home' %}"; // Ensure 'logout' matches your logout URL name
        });
    </script>
    {% comment %}
    <div class="flex justify-center mb-4">
      <img
        alt="Logo of the personal blog website, a stylized pen and paper"
        class="w-24 h-24"
        height="100"
        src="https://storage.googleapis.com/a1aa/image/ZS6bmfQQAgQ0dCzKnaXcmdLSWNkwstevQgq6ogm05Ofk3txnA.jpg"
        width="100"
      />
    </div>
    {% endcomment %}
    <h2 class="text-2xl font-bold text-center mb-6 gradient-text">
      Choose Your Password
    </h2>
    <form action="{% url 'reset_password' token=token %}" method="POST">
      {% csrf_token %}
      <div class="mb-4 relative">
        <label for="password1" class="block text-gray-700 mb-1 font-semibold"
          >Password<span class="text-red-500">*</span></label
        >
        <div class="relative">
          <i class="fas fa-lock absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-700"></i>
        <input
          type="password"
          placeholder="Enter Password"
          id="reset-password1"
          name="password1"
          class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 pl-10"
          required
        />
        </div>
        <img
          id="toggle-reset-password1"
          src="https://cdn-icons-png.flaticon.com/512/8860/8860683.png"
          alt="Toggle Password"
          width="24"
          height="24"
          class="toggle-password absolute right-3 top-[70%] transform -translate-y-1/2 cursor-pointer"
          onclick="togglePasswordVisibility('reset-password1', 'toggle-reset-password1')"
        />
      </div>
      <div class="mb-4 relative">
        <label for="password2" class="block text-gray-700 mb-1 font-semibold"
          >Confirm Password<span class="text-red-500">*</span></label
        >
        <div class="relative">
          <i class="fas fa-lock absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-700"></i>
        <input
          type="password"
          placeholder="Confirm Password"
          id="reset-password2"
          name="password2"
          class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"
          required
        />
        </div>
        <img
          id="toggle-reset-password2"
          src="https://cdn-icons-png.flaticon.com/512/8860/8860683.png"
          alt="Toggle Password"
          width="24"
          height="24"
          class="toggle-password absolute right-3 top-[70%] transform -translate-y-1/2 cursor-pointer"
          onclick="togglePasswordVisibility('reset-password2','toggle-reset-password2')"
        />
      </div>
      <button
        class="w-full font-bold text-white py-2 rounded-lg focus:outline-none focus:ring-2 bg-blue-500 hover:bg-blue-600 transition duration-300 focus:ring-blue-400"
        type="submit"
      >
        Submit
        <i class="fas fa-check"></i>
      </button>
    </form>
    <p class="text-center mt-4 hover:font-bold transition-all">
      <a class="text-blue-500 underline" href="{% url 'login' %}">
        Back to login
      </a>
    </p>
  </div>
</div>
{% endblock content %}