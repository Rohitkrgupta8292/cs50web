{% extends "layout.html" %} {% load static %} 
{% block title %} Forget Password - Timber {% endblock %}
{% block content %}
<div class="min-h-screen flex justify-center items-center">
  <div class="font bg-white p-8 rounded-lg shadow-lg w-full max-w-md">
    {% if messages %}
    <div class="alert alert-container text-center font-bold shake fixed top-4 right-4 z-50">
      {% for message in messages %} {% if message.tags == 'success' %}
      <div class="alert-success p-3 m-3 bg-green-300 text-green-900 rounded-lg shadow-lg">
        {{ message }}
      </div>
      {% elif message.tags == 'error' %}
      <div class="alert-error p-3 m-3 bg-red-300 text-red-900 rounded-lg shadow-lg">
        {{ message }}
      </div>
      {% endif %} {% endfor %}
    </div>
    {% endif %}
    <div class="flex">
      <div
        class="cursor-pointer hover:border-[2px] w-[39.2px] h-[39.2px] hover:border-blue-400 hover:rounded-lg p-[2px] trans"
        id="forgot-home"
      >
        <img
          src="https://cdn-icons-png.flaticon.com/512/25/25694.png"
          width="28"
          height="28"
        />
      </div>
      <div class="w-[150px] ml-[78px]" id="timber-icon">
        <img src="{% static '\timber.png' %}" />
      </div>
    </div>
    <script>
      document
        .getElementById("forgot-home")
        .addEventListener("click", function () {
          // Redirect to the logout URL
          window.location.href = "{% url 'home' %}"; // Ensure 'logout' matches your logout URL name
        });
    </script>
    <h2 class="text-2xl font-bold text-center mb-6 gradient-text">
      Reset Your Password
    </h2>
    <form action="{% url 'forgot_password' %}" method="POST">
      {% csrf_token %}
      <div class="mb-4">
        <label class="block text-gray-700 mb-1 font-semibold" for="username_or_email">
          Email or Username<span class="text-red-500">*</span>
        </label>
        <div class="relative">
          <i class="far fa-envelope absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-700"></i>
        <input
          class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 pl-10"
          id="username_or_email"
          placeholder="Enter your Username or Email"
          name="username_or_email"
          required=""
          type="text"
        />
        </div>
      </div>
      <button
        class="w-full font-bold text-white py-2 rounded-lg focus:outline-none focus:ring-2 bg-blue-500 hover:bg-blue-600 transition duration-300 focus:ring-blue-400"
        type="submit"
      >
        Reset Password
      </button>
    </form>
    <p class="text-center mt-4 hover:font-bold transition-all">
      <a class="text-blue-500 underline" href="{% url 'login' %}">
        <i class="fas fa-arrow-left"></i>
        Back to login
      </a>
    </p>
  </div>
</div>
{% endblock content %}
