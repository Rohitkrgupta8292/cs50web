{% extends "layout.html" %}
{% load static %} 
{% block title %} Sign Up - Timber {% endblock %}
{% block content %}
<div class="min-h-screen flex flex-col justify-center items-center">
  <div class="font bg-white p-[25px] rounded-lg shadow-lg w-full max-w-md">
    {% if messages %}
    <div class="alert alert-container text-center font-bold shake fixed top-4 right-4 z-50">
      {% for message in messages %} {% if message.tags == 'success' %}
      <div class="alert-success p-3 m-3 bg-green-300 text-green-900 rounded-lg shadow-lg">
        {{ message }}
      </div>
      {% elif message.tags == 'error' %}
      <div class="alert-error p-3 m-3 bg-red-300 text-red-900 rounded-lg shadow-lg">
        {{ message }}
      </div>
      {% endif %} {% endfor %}
    </div>
    {% endif %}
    <div class="flex">
    <div class="cursor-pointer hover:border-[2px] w-[39.2px] h-[39.2px] hover:border-blue-400 hover:rounded-lg p-[2px] trans"
      id="sign-home"
    >
      <img
        src="https://cdn-icons-png.flaticon.com/512/25/25694.png"
        width="28"
        height="28"
      />
    </div>
    <div class="w-[150px] ml-[78px]" id="timber-icon"> 
      <img
          src="{% static '/timber.png' %}" 
        />
  </div>
</div>
    <script>
      document
        .getElementById("sign-home")
        .addEventListener("click", function () {
          // Redirect to the logout URL
          window.location.href = "{% url 'home' %}"; // Ensure 'logout' matches your logout URL name
        });
    </script>
    <h2 class="text-2xl font-bold mb-6 text-center mx-auto gradient-text">
      Create Your Account
    </h2>
    <form method="POST" action="{% url 'signup' %}">
      {% csrf_token %}
      <div class="mb-4">
        <label for="username" class="block text-gray-700 font-semibold mb-1">Username<span class="text-red-500">*</span></label>
        <div class="relative">
          <i class="far fa-user absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-700"></i>
        <input
          type="text"
          placeholder="Enter Username"
          id="username"
          name="username"
          class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 pl-10"
          required
        />
        </div>
      </div>
      <div class="mb-4">
        <label for="email" class="block text-gray-700 font-semibold mb-1">Email<span class="text-red-500">*</span></label>
        <div class="relative">
          <i class="far fa-envelope absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-700"></i>
        <input
          type="email"
          placeholder="e.g. tchalla@wakanda.com"
          id="email"
          name="email"
          class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 pl-10"
          required
        />
        </div>
      </div>
      <div class="mb-4 relative">
        <label for="password1" class="block text-gray-700 mb-1 font-semibold">Password<span class="text-red-500">*</span></label>
        <div class="relative">
          <i class="fas fa-lock absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-700"></i>
        <input
          type="password"
          placeholder="Enter Password"
          id="password1"
          name="password1"
          class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 pl-10"
          required
        />
        </div>
        <img
          id="toggle-password1"
          src="https://cdn-icons-png.flaticon.com/512/8860/8860683.png"
          alt="Toggle Password"
          width="24"
          height="24"
          class="toggle-password absolute right-3 top-[70%] transform -translate-y-1/2 cursor-pointer"
          onclick="togglePasswordVisibility('password1', 'toggle-password1')"
        />
      </div>
      <div class="mb-4 relative">
        <label for="password2" class="block text-gray-700 mb-1 font-semibold"
          >Confirm Password<span class="text-red-500">*</span></label
        >
        <div class="relative">
          <i class="fas fa-lock absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-700"></i>
        <input
          type="password"
          placeholder="Confirm Password"
          id="password2"
          name="password2"
          class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 pl-10"
          required
        />
        </div>
        <img
          id="toggle-password2"
          src="https://cdn-icons-png.flaticon.com/512/8860/8860683.png"
          alt="Toggle Password"
          width="24"
          height="24"
          class="toggle-password absolute right-3 top-[70%] transform -translate-y-1/2 cursor-pointer"
          onclick="togglePasswordVisibility('password2','toggle-password2')"
        />
      </div>
      <button
        type="submit"
        class="w-full font-bold  text-white py-2 rounded-lg focus:outline-none focus:ring-2  bg-blue-500 hover:bg-blue-600 transition duration-300 focus:ring-blue-400 flex items-center justify-center gap-1"
      >
        <span>Sign Up</span>
        <svg class="w-4" fill="white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M217.9 105.9L340.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L217.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1L32 320c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM352 416l64 0c17.7 0 32-14.3 32-32l0-256c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c53 0 96 43 96 96l0 256c0 53-43 96-96 96l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"/></svg>
      </button>
    </form>
    <p class="mt-6 text-center text-gray-700 font-bold">
      Already have an account?
      <a href="{% url 'login' %}" class="text-blue-500 hover:underline"
        >LogIn</a
      >
    </p>
    <div class="flex items-center justify-center mt-6">
      <div class="border-t border-gray-300 flex-grow mr-3"></div>
      <span class="text-gray-500">or</span>
      <div class="border-t border-gray-300 flex-grow ml-3"></div>
  </div>
  <div class="flex flex-col space-y-4 mt-6">
    {% comment %} <a href="{% provider_login_url 'google' %}">google</a> {% endcomment %}
    <button onclick="window.location.href='{% url 'github_login' %}'"  class="w-full flex items-center justify-center border border-gray-300 py-2 rounded-lg hover:bg-gray-100 transition duration-200">
        <i class="fab fa-github text-gray-700 mr-2"></i>
        <span class="text-gray-700 font-bold">Continue with GitHub</span>
    </button>
      <button onclick="window.location.href='{% url 'google_login' %}'"  class="w-full flex items-center justify-center border border-gray-300 py-2 rounded-lg hover:bg-gray-100 transition duration-200">
          <img src="https://static-00.iconduck.com/assets.00/google-icon-2048x2048-czn3g8x8.png" alt="Google logo" class="w-5 h-5 mr-2">
          <span class="text-gray-700 font-bold">Continue with Google</span>
      </button>
  </div>
  </div>
</div>
{% endblock content %}
